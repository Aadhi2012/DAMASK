To use the spectral method, a Fortran compiler must be installed.
For post an prepocessing, a running python enviroment with numpy must be installed.

Currently the Intel Fortran compiler and the GNU Fortran compiler are supported.
The compilation of the code is automated by using make.
There are several options to tune the compilation in detail
The most important switch is "F90" to choose the Fortran compiler.
It can be set to "ifort" (Intel Fortran compiler) or "gfortran" (GNU compiler).
E.g. "make F90=gfortran"
Multiprocessor support can be switched off by setting "OPENMP=OFF" (default "OPENMP=ON").
The compiler switches are explained in detail in the makefile in %DAMASK%/code
A "make clean" removes all previously compiled code.

If the compilation was succesfull, a file called DAMASK_spectral.exe is found in %DAMASK%/code.
If multiprocessor support is enabled (default), the number of threads can be set to N by setting "DAMASK_NUM_THREADS".
E.g. "export DAMASK_NUM_THREADS=4" for using four cores.
The number of processors can be shown by "echo $DAMASK_NUM_THREADS"

To run the application in the directory containing loadcase, geometry and *.config files, type %DAMASK%/code/DAMASK_spectral.exe geomfile.geom loadcasefile.load

To create geomtry file, use the tools for voronoi tesselation provided in %DAMASK%/processing/pre
At first, install all processing tools by running %DAMASK%/processing/setup/setup_processing.py
!Be carefull, change "ifort" to your compiler name in "os.system('ifort -O3 -parallel -o%s.exe %s'%(os.path.splitext(src)[0],src))" in that file
!And change f90flags="-heap-arrays 500000000" to f90flags="" in "%DAMASK%/processing/post/make_postprocessingMath" for non-Intel compiler
If the post- and preprocessing are correctly installed, you have the file "voronoi_randomSeeding.exe" and "voronoi_tessellation.exe" in "%DAMASK%/processing/pre"
To generate random seeds, run "voronoi_randomSeeding.exe" an follow the instructions on the screen.
You will get a file called *.seeds in your working directory
With the *.seeds file, you can generate geometry files at different resolution and dimensionby running "voronoi_randomSeeding.exe" in "%DAMASK%/processing/pre"
You will get three files called *.spectral, *.geom, *.config .
Ingnore the first one.
Rename the file *.config to "material.config".
This file conatines the information about the orientation of each grain in the generated microstructure.
It DOES NOT contain any information about the constitutive model that should be used.
Copy that information from %DAMASK%/code/config/material.config
A valid "material.config" contains at least one <homogenization> scheme, a <microstructure> for each grain, at leat one <texture>, a <crystallite> and at leat one <phase>




 